// Typography

$font--provider: "Google Fonts";
$font--import: "Inter:400,500,600,700,800";

// The font set
$font--family: (
  heading:
    'Roboto, -apple-system, BlinkMacSystemFont, "Segoe UI", "Helvetica Neue", Arial, sans-serif',
  base:
    'Roboto, -apple-system, BlinkMacSystemFont, "Segoe UI", "Helvetica Neue", Arial, sans-serif',
  code: 'Monaco, Consolas, "Andale Mono", "DejaVu Sans Mono", monospace',
  pre: '"Courier 10 Pitch", Courier, monospace',
);

// The typographic scale
$font--scale: (
  // key 		// font-size, line-height, kerning
  alpha: (52px, 62px, -0.3px),
  beta: (44px, 54px, -0.3px),
  gamma: (32px, 42px, -0.3px),
  delta: (24px, 34px, -0.1px),
  epsilon: (20px, 30px, -0.1px),
  zeta: (16px, 28px, -0.1px),
  eta: (13px, 24px, -0.1px),
  theta: (12px, 22px, null)
);

// Base elements: font size
$font--size: (
  // ↓ Mobile 	// key in $font--scale
  h1: "beta",
  h2: "gamma",
  h3: "delta",
  h4: "delta",
  base: "epsilon",
  sm: "zeta",
  xs: "eta",
  xxs: "theta",
  bquote: "epsilon",
  figcap: "theta",
  code: "eta",
  pre: "eta",
  table: "eta",
  // ↓ Desktop (set to null if font size won't change on desktop)
  h1-desktop: "alpha",
  h2-desktop: "beta",
  h3-desktop: "gamma",
  h4-desktop: null,
  base-desktop: null,
  sm-desktop: "zeta",
  xs-desktop: null,
  xxs-desktop: null,
  bquote-desktop: null,
  figcap-desktop: null,
  code-desktop: null,
  pre-desktop: null,
  table-desktop: null
);

// Base elements: font weight
$font--weight: (
  heading: 500,
  base: 400,
  strong: 600,
  bquote: 500,
  figcap: null,
);

// ---------------------------------------------------------------------------------------------

html {
  @include font-size(base);
}

body {
  color: color(base);
  font-size: 1rem;
}

body,
button,
input,
select,
textarea {
  @include font-family(base);
  @include font-weight(base);
}

h1,
h2,
h3,
h4,
h5,
h6,
.h1,
.h2,
.h3,
.h4,
.h5,
.h6 {
  @include font-family(heading);
  @include font-weight(heading);
  clear: both;
  letter-spacing: 1px !important;
  color: color(heading);
  word-wrap: break-word;
  overflow-wrap: break-word;
}

h1,
.h1 {
  @include font-size(h1);
}

h2,
.h2 {
  @include font-size(h2);
}

h3,
.h3 {
  @include font-size(h3);
}

h4,
.h4 {
  @include font-size(h4);
}

h5,
.h5 {
  @include font-size(base);
}

h6,
.h6,
small,
.text-sm {
  @include font-size(sm);
}

.text-xs {
  @include font-size(xs);
}

.text-xxs {
  @include font-size(xxs);
  color: color(low-contrast);
}

figcaption {
  @include font-size(figcap);
  @include font-weight(figcap);
}

a {
  &:not(.button) {
    @include anchor-aspect(main, inverse);
    @include font-weight(link);
  }

  &.button-link {
    @include anchor-aspect(button-link);
    @include font-weight(button-link);
    text-transform: $link-button--transform;
  }

  &.func-link {
    @include anchor-aspect(func-link);
    @include font-weight(func-link);
    text-transform: $link-func--transform;
  }
}

h1,
.h1 {
  margin-top: $spacing--h1-t;
  margin-bottom: $spacing--h1-b;
}

h2,
.h2 {
  margin-top: $spacing--h2-t;
  margin-bottom: $spacing--h2-b;
}

h3,
.h3 {
  margin-top: $spacing--h3-t;
  margin-bottom: $spacing--h3-b;
}

h4,
h5,
h6,
.h4,
.h5,
.h6 {
  margin-top: $spacing--hx-t;
  margin-bottom: $spacing--hx-b;
}

p {
  margin-top: 0;
  margin-bottom: $spacing--shared-v;
}

dfn,
cite,
em,
i {
  font-style: italic;
}

blockquote {
  @include font-size(bquote);
  margin-top: $spacing--shared-v;
  margin-bottom: $spacing--shared-v;
  margin-left: $spacing--shared-h;

  &::before {
    content: "\201C";
  }

  &::after {
    content: "\201D";
  }

  p {
    display: inline;
  }
}

address {
  border-width: 1px 0;
  border-style: solid;
  border-color: color-border(divider);
  padding: $spacing--shared-v 0;
  margin: 0 0 $spacing--shared-v;
}

pre,
pre h1,
pre h2,
pre h3,
pre h4,
pre h5,
pre h6,
pre .h1,
pre .h2,
pre .h3,
pre .h4,
pre .h5,
pre .h6 {
  @include font-family(pre);
}

pre,
code,
kbd,
tt,
var {
  background: color-bg(code);
}

pre {
  @include font-size(pre);
  max-width: 100%;
  overflow: auto;
  padding: $spacing--shared-v $spacing--shared-h;
  margin-top: $spacing--shared-v;
  margin-bottom: $spacing--shared-v;
}

code,
kbd,
tt,
var {
  @include font-family(code);
  @include font-size(code);
  padding: $spacing--code-v $spacing--code-h;
}

abbr,
acronym {
  cursor: help;
}

mark,
ins {
  text-decoration: none;
}

b,
strong {
  @include font-weight(strong);
}

.invert-color {
  color: color(base-inverse);

  a {
    &:not(.button) {
      @include anchor-aspect(main);
    }

    &.button-link {
      @include anchor-aspect(button-link, inverse);
    }

    &.func-link {
      @include anchor-aspect(func-link, inverse);
    }
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  .h1,
  .h2,
  .h3,
  .h4,
  .h5,
  .h6 {
    color: color(heading-inverse);
  }

  address {
    border-color: color-border(divider-inverse);
  }

  pre,
  code,
  kbd,
  tt,
  var {
    background: color-bg(code-inverse);
  }
}

@include media("<=medium") {
  .h1-mobile {
    @include font-size(h1);
  }

  .h2-mobile {
    @include font-size(h2);
  }

  .h3-mobile {
    @include font-size(h3);
  }

  .h4-mobile {
    @include font-size(h4);
  }

  .h5-mobile {
    @include font-size(base);
  }

  .h6-mobile {
    @include font-size(sm);
  }
}

@include media(">medium") {
  html {
    @include font-size(base-desktop);
  }

  h1,
  .h1 {
    @include font-size(h1-desktop);
  }

  h2,
  .h2 {
    @include font-size(h2-desktop);
  }

  h3,
  .h3 {
    @include font-size(h3-desktop);
  }

  h4,
  .h4 {
    @include font-size(h4-desktop);
  }

  h5,
  .h5 {
    @include font-size(base-desktop);
  }

  h6,
  .h6,
  small,
  .text-sm {
    @include font-size(sm-desktop);
    letter-spacing: 0.25px;
  }

  .text-xs {
    @include font-size(xs-desktop);
    letter-spacing: 0.25px;
  }

  .text-xxs {
    @include font-size(xxs-desktop);
  }

  figcaption {
    @include font-size(figcap-desktop);
  }

  blockquote {
    @include font-size(bquote-desktop);
  }
}

.recharts-legend-wrapper {
  @include font-size(xs);
}
